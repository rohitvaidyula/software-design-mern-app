function cov_1yorsvtocm(){var path="C:\\Users\\vaidy\\software-design-mern-app\\backend\\routes\\UserRoutes.js";var hash="adc29f11e9cd044d74223154b2ea1765350c6f96";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\vaidy\\software-design-mern-app\\backend\\routes\\UserRoutes.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:32}},"1":{start:{line:2,column:13},end:{line:2,column:29}},"2":{start:{line:3,column:11},end:{line:3,column:50}},"3":{start:{line:4,column:13},end:{line:4,column:30}},"4":{start:{line:6,column:0},end:{line:55,column:3}},"5":{start:{line:7,column:2},end:{line:54,column:3}},"6":{start:{line:8,column:17},end:{line:8,column:34}},"7":{start:{line:9,column:17},end:{line:9,column:34}},"8":{start:{line:10,column:22},end:{line:10,column:44}},"9":{start:{line:12,column:4},end:{line:16,column:5}},"10":{start:{line:13,column:6},end:{line:15,column:9}},"11":{start:{line:18,column:4},end:{line:22,column:5}},"12":{start:{line:19,column:6},end:{line:21,column:9}},"13":{start:{line:24,column:4},end:{line:28,column:5}},"14":{start:{line:25,column:6},end:{line:27,column:9}},"15":{start:{line:30,column:4},end:{line:34,column:5}},"16":{start:{line:31,column:6},end:{line:33,column:9}},"17":{start:{line:36,column:25},end:{line:36,column:63}},"18":{start:{line:37,column:4},end:{line:41,column:5}},"19":{start:{line:38,column:6},end:{line:40,column:9}},"20":{start:{line:43,column:17},end:{line:43,column:39}},"21":{start:{line:44,column:27},end:{line:44,column:56}},"22":{start:{line:46,column:20},end:{line:49,column:6}},"23":{start:{line:51,column:4},end:{line:53,column:7}},"24":{start:{line:57,column:0},end:{line:86,column:3}},"25":{start:{line:58,column:2},end:{line:85,column:3}},"26":{start:{line:59,column:17},end:{line:59,column:34}},"27":{start:{line:60,column:17},end:{line:60,column:34}},"28":{start:{line:62,column:17},end:{line:62,column:55}},"29":{start:{line:64,column:4},end:{line:68,column:5}},"30":{start:{line:65,column:6},end:{line:67,column:9}},"31":{start:{line:70,column:20},end:{line:70,column:61}},"32":{start:{line:72,column:4},end:{line:76,column:5}},"33":{start:{line:73,column:6},end:{line:75,column:9}},"34":{start:{line:78,column:4},end:{line:80,column:7}},"35":{start:{line:82,column:4},end:{line:84,column:7}},"36":{start:{line:88,column:0},end:{line:88,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:25},end:{line:6,column:26}},loc:{start:{line:6,column:45},end:{line:55,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:57,column:22},end:{line:57,column:23}},loc:{start:{line:57,column:42},end:{line:86,column:1}},line:57}},branchMap:{"0":{loc:{start:{line:12,column:4},end:{line:16,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:16,column:5}},{start:{line:12,column:4},end:{line:16,column:5}}],line:12},"1":{loc:{start:{line:12,column:8},end:{line:12,column:36}},type:"binary-expr",locations:[{start:{line:12,column:8},end:{line:12,column:13}},{start:{line:12,column:17},end:{line:12,column:22}},{start:{line:12,column:26},end:{line:12,column:36}}],line:12},"2":{loc:{start:{line:18,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:18,column:4},end:{line:22,column:5}},{start:{line:18,column:4},end:{line:22,column:5}}],line:18},"3":{loc:{start:{line:24,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:28,column:5}},{start:{line:24,column:4},end:{line:28,column:5}}],line:24},"4":{loc:{start:{line:30,column:4},end:{line:34,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:34,column:5}},{start:{line:30,column:4},end:{line:34,column:5}}],line:30},"5":{loc:{start:{line:37,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:41,column:5}},{start:{line:37,column:4},end:{line:41,column:5}}],line:37},"6":{loc:{start:{line:64,column:4},end:{line:68,column:5}},type:"if",locations:[{start:{line:64,column:4},end:{line:68,column:5}},{start:{line:64,column:4},end:{line:68,column:5}}],line:64},"7":{loc:{start:{line:72,column:4},end:{line:76,column:5}},type:"if",locations:[{start:{line:72,column:4},end:{line:76,column:5}},{start:{line:72,column:4},end:{line:76,column:5}}],line:72}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"adc29f11e9cd044d74223154b2ea1765350c6f96"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1yorsvtocm=function(){return actualCoverage;};}return actualCoverage;}cov_1yorsvtocm();var express=(cov_1yorsvtocm().s[0]++,require("express"));var router=(cov_1yorsvtocm().s[1]++,express.Router());var user=(cov_1yorsvtocm().s[2]++,require("../models/UserCredController"));var bcrypt=(cov_1yorsvtocm().s[3]++,require("bcrypt"));cov_1yorsvtocm().s[4]++;router.post("/register",async(req,res)=>{cov_1yorsvtocm().f[0]++;cov_1yorsvtocm().s[5]++;try{const name=(cov_1yorsvtocm().s[6]++,req.body.username);const pass=(cov_1yorsvtocm().s[7]++,req.body.password);const passCheck=(cov_1yorsvtocm().s[8]++,req.body.passwordCheck);cov_1yorsvtocm().s[9]++;if((cov_1yorsvtocm().b[1][0]++,!name)||(cov_1yorsvtocm().b[1][1]++,!pass)||(cov_1yorsvtocm().b[1][2]++,!passCheck)){cov_1yorsvtocm().b[0][0]++;cov_1yorsvtocm().s[10]++;return res.status(400).json({message:"All fileds must be entered!"});}else{cov_1yorsvtocm().b[0][1]++;}cov_1yorsvtocm().s[11]++;if(name.length<5){cov_1yorsvtocm().b[2][0]++;cov_1yorsvtocm().s[12]++;return res.status(400).json({message:"Username must be at least 5 characters"});}else{cov_1yorsvtocm().b[2][1]++;}cov_1yorsvtocm().s[13]++;if(pass.length<8){cov_1yorsvtocm().b[3][0]++;cov_1yorsvtocm().s[14]++;return res.status(400).json({message:"Password must be at least 8 characters"});}else{cov_1yorsvtocm().b[3][1]++;}cov_1yorsvtocm().s[15]++;if(pass!==passCheck){cov_1yorsvtocm().b[4][0]++;cov_1yorsvtocm().s[16]++;return res.status(400).json({message:"Passwords do not match!"});}else{cov_1yorsvtocm().b[4][1]++;}const existingUser=(cov_1yorsvtocm().s[17]++,await user.findOne({userName:name}));cov_1yorsvtocm().s[18]++;if(existingUser){cov_1yorsvtocm().b[5][0]++;cov_1yorsvtocm().s[19]++;return res.status(400).json({message:"An account with this user already exists!"});}else{cov_1yorsvtocm().b[5][1]++;}const salt=(cov_1yorsvtocm().s[20]++,await bcrypt.genSalt());const hashedPassword=(cov_1yorsvtocm().s[21]++,await bcrypt.hash(pass,salt));const newUser=(cov_1yorsvtocm().s[22]++,new user({userName:name,passWord:hashedPassword}));}catch(err){cov_1yorsvtocm().s[23]++;res.status(500).json({error:err.message});}});cov_1yorsvtocm().s[24]++;router.post("/login",async(req,res)=>{cov_1yorsvtocm().f[1]++;cov_1yorsvtocm().s[25]++;try{const name=(cov_1yorsvtocm().s[26]++,req.body.username);const pass=(cov_1yorsvtocm().s[27]++,req.body.password);const User=(cov_1yorsvtocm().s[28]++,await user.findOne({userName:name}));cov_1yorsvtocm().s[29]++;if(!User){cov_1yorsvtocm().b[6][0]++;cov_1yorsvtocm().s[30]++;return res.status(400).json({message:"No account with this user exists"});}else{cov_1yorsvtocm().b[6][1]++;}const isMatch=(cov_1yorsvtocm().s[31]++,await bcrypt.compare(pass,User.passWord));cov_1yorsvtocm().s[32]++;if(!isMatch){cov_1yorsvtocm().b[7][0]++;cov_1yorsvtocm().s[33]++;return res.status(400).json({message:"Invalid Credentials"});}else{cov_1yorsvtocm().b[7][1]++;}cov_1yorsvtocm().s[34]++;return res.json({message:"I guess it worked?"});}catch(err){cov_1yorsvtocm().s[35]++;return res.status(500).json({error:err.message});}});cov_1yorsvtocm().s[36]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJSb3V0ZXMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJ1c2VyIiwiYmNyeXB0IiwicG9zdCIsInJlcSIsInJlcyIsIm5hbWUiLCJib2R5IiwidXNlcm5hbWUiLCJwYXNzIiwicGFzc3dvcmQiLCJwYXNzQ2hlY2siLCJwYXNzd29yZENoZWNrIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJsZW5ndGgiLCJleGlzdGluZ1VzZXIiLCJmaW5kT25lIiwidXNlck5hbWUiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsIm5ld1VzZXIiLCJwYXNzV29yZCIsImVyciIsImVycm9yIiwiVXNlciIsImlzTWF0Y2giLCJjb21wYXJlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Iml5SkFlWTsyRkFmWixHQUFJQSxDQUFBQSxPQUFPLDBCQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFWLENBQVgsQ0FDQSxHQUFJQyxDQUFBQSxNQUFNLDBCQUFHRixPQUFPLENBQUNHLE1BQVIsRUFBSCxDQUFWLENBQ0EsR0FBSUMsQ0FBQUEsSUFBSSwwQkFBR0gsT0FBTyxDQUFDLDhCQUFELENBQVYsQ0FBUixDQUNBLEdBQUlJLENBQUFBLE1BQU0sMEJBQUdKLE9BQU8sQ0FBQyxRQUFELENBQVYsQ0FBVixDLHdCQUVBQyxNQUFNLENBQUNJLElBQVAsQ0FBWSxXQUFaLENBQXlCLE1BQU9DLEdBQVAsQ0FBWUMsR0FBWixHQUFvQixpREFDM0MsR0FBSSxDQUNGLEtBQU1DLENBQUFBLElBQUksMEJBQUdGLEdBQUcsQ0FBQ0csSUFBSixDQUFTQyxRQUFaLENBQVYsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLDBCQUFHTCxHQUFHLENBQUNHLElBQUosQ0FBU0csUUFBWixDQUFWLENBQ0EsS0FBTUMsQ0FBQUEsU0FBUywwQkFBR1AsR0FBRyxDQUFDRyxJQUFKLENBQVNLLGFBQVosQ0FBZixDQUhFLHdCQUtG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T0FBUCxDQUFlckIsSUFBZixDQUFxQm1CLElBQUksQ0FBQ0gsUUFBMUIsQ0FBVCxDQUFiLENBWkUseUJBY0YsR0FBSSxDQUFDSSxPQUFMLENBQWMscURBQ1osTUFBT3hCLENBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLENBQzFCQyxPQUFPLENBQUUscUJBRGlCLENBQXJCLENBQVAsQ0FHRCxDQUpELGlDQWRFLHlCQW9CRixNQUFPVixDQUFBQSxHQUFHLENBQUNTLElBQUosQ0FBUyxDQUNkQyxPQUFPLENBQUUsb0JBREssQ0FBVCxDQUFQLENBR0QsQ0FBQyxNQUFPVyxHQUFQLENBQVksMEJBQ1osTUFBT3JCLENBQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLENBQzFCYSxLQUFLLENBQUVELEdBQUcsQ0FBQ1gsT0FEZSxDQUFyQixDQUFQLENBR0QsQ0FDRixDQTdCRCxFLHlCQStCQWdCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQmpDLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbnZhciB1c2VyID0gcmVxdWlyZShcIi4uL21vZGVscy9Vc2VyQ3JlZENvbnRyb2xsZXJcIik7XHJcbnZhciBiY3J5cHQgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG5hbWUgPSByZXEuYm9keS51c2VybmFtZTtcclxuICAgIGNvbnN0IHBhc3MgPSByZXEuYm9keS5wYXNzd29yZDtcclxuICAgIGNvbnN0IHBhc3NDaGVjayA9IHJlcS5ib2R5LnBhc3N3b3JkQ2hlY2s7XHJcblxyXG4gICAgaWYgKCFuYW1lIHx8ICFwYXNzIHx8ICFwYXNzQ2hlY2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkFsbCBmaWxlZHMgbXVzdCBiZSBlbnRlcmVkIVwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZS5sZW5ndGggPCA1KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0IDUgY2hhcmFjdGVyc1wiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFzcy5sZW5ndGggPCA4KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVyc1wiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFzcyAhPT0gcGFzc0NoZWNrKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJQYXNzd29yZHMgZG8gbm90IG1hdGNoIVwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCB1c2VyLmZpbmRPbmUoeyB1c2VyTmFtZTogbmFtZSB9KTtcclxuICAgIGlmIChleGlzdGluZ1VzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkFuIGFjY291bnQgd2l0aCB0aGlzIHVzZXIgYWxyZWFkeSBleGlzdHMhXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgpO1xyXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzLCBzYWx0KTtcclxuXHJcbiAgICBjb25zdCBuZXdVc2VyID0gbmV3IHVzZXIoe1xyXG4gICAgICB1c2VyTmFtZTogbmFtZSxcclxuICAgICAgcGFzc1dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgbmFtZSA9IHJlcS5ib2R5LnVzZXJuYW1lO1xyXG4gICAgY29uc3QgcGFzcyA9IHJlcS5ib2R5LnBhc3N3b3JkO1xyXG5cclxuICAgIGNvbnN0IFVzZXIgPSBhd2FpdCB1c2VyLmZpbmRPbmUoeyB1c2VyTmFtZTogbmFtZSB9KTtcclxuXHJcbiAgICBpZiAoIVVzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIk5vIGFjY291bnQgd2l0aCB0aGlzIHVzZXIgZXhpc3RzXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzTWF0Y2ggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzLCBVc2VyLnBhc3NXb3JkKTtcclxuXHJcbiAgICBpZiAoIWlzTWF0Y2gpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgQ3JlZGVudGlhbHNcIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJJIGd1ZXNzIGl0IHdvcmtlZD9cIixcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgZXJyb3I6IGVyci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG4iXX0=